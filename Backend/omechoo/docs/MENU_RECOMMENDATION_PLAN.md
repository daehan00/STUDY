# 메뉴 추천 기능 프론트엔드 구현 기획안

## 1. 개요 (Overview)
본 문서는 오메추(Omechoo) 서비스의 핵심 기능인 **"메뉴 추천(Menu Recommendation)"**의 프론트엔드 구현 전략을 정의합니다.  
사용자의 결정 장애를 해소하기 위해 **3가지 다른 접근 방식(Mode)**을 제공하며, 사용자가 자신에게 맞는 방식을 선택하여 추천을 받을 수 있도록 설계합니다.

---

## 2. 사용자 흐름 (User Flow)

```mermaid
graph TD
    A[메인 홈] -->|메뉴 추천받기 클릭| B[추천 방식 선택 (Mode Selection)]
    
    B -->|꼼꼼하게 고를래| C[1. 단계별 질문형 (Wizard)]
    B -->|키워드로 딱!| D[2. 태그 선택형 (Keyword)]
    B -->|운에 맡길래| E[3. 랜덤 게임형 (Game)]
    
    C --> F{API 요청}
    D --> F
    E --> F
    
    F -->|로딩 (스켈레톤)| G[추천 결과 화면]
    G -->|마음에 안 듦| F
    G -->|이거 먹을래!| H[주변 식당 찾기 이동]
```

---

## 3. 상세 화면 설계

### 3-1. 추천 방식 선택 페이지 (`/menu/mode`)
사용자가 진입 시 가장 먼저 만나는 화면입니다. 3가지 카드를 통해 진입점을 구분합니다.

| UI 요소 | 설명 | 디자인/인터랙션 |
|:---:|:---|:---|
| **헤더** | "어떤 방식으로<br>골라볼까요?" | 타이틀 강조, 뒤로가기 버튼 |
| **카드 1** | **단계별 질문형** (Default) | 아이콘: 📋 / 설명: "질문에 답하며 꼼꼼하게" |
| **카드 2** | **태그 선택형** | 아이콘: 🏷️ / 설명: "기분 따라 키워드로 빠르게" |
| **카드 3** | **랜덤 게임형** | 아이콘: 🎲 / 설명: "운에 맡기고 결과만 확인!" |

### 3-2. [Mode 1] 단계별 질문형 (Wizard) - **우선 구현 대상**
질문을 하나씩 던져 선택지를 좁혀가는 방식입니다. (`/menu/recommend/wizard`)

*   **Step 1: 카테고리 선택**
    *   질문: "어떤 종류가 땡기시나요?"
    *   UI: 한식, 중식, 일식, 양식, 분식, 아시안 등 (아이콘 + 텍스트 그리드)
    *   로직: 다중 선택 가능, 선택 안 함(전체) 가능

*   **Step 2: 맵기 & 온도 (속성)**
    *   질문: "매운맛은 어느 정도?" / "따뜻한 국물?"
    *   UI:
        *   맵기: 0단계(안매움) ~ 3단계(매움) 슬라이더 또는 버튼 그룹
        *   온도: 뜨끈한 / 시원한 / 상관없음 (Segmented Control)

*   **Step 3: 로딩 및 결과**
    *   로딩: "맛있는 메뉴를 찾고 있어요..." (애니메이션)
    *   결과: 카드 형태의 단일/다중 메뉴 제안

### 3-3. [Mode 2] 태그 선택형 (Keyword)
*   추후 구현 예정
*   화면에 인기 태그 (`#해장`, `#비오는날`, `#혼밥`, `#기름진`)를 나열하고 선택 시 바로 결과 도출

### 3-4. [Mode 3] 랜덤 게임형 (Game)
*   추후 구현 예정
*   룰렛이나 슬롯머신 애니메이션을 통해 시각적 재미 제공

### 3-5. 추천 결과 페이지 (공통)
*   **메뉴 카드:** 음식 이름, 한줄 설명, 주요 태그(맵기 등) 표시
*   **Action Buttons:**
    *   Primary: "주변 식당 찾기" (해당 메뉴 ID를 가지고 식당 검색 페이지로 이동)
    *   Secondary: "다른거 추천받기" (옵션 유지한 채 API 재호출)

---

## 4. 데이터 및 상태 관리

### 4-1. API 연동
*   **Endpoint:** `POST /api/menu/recommend/basic`
*   **Request Interface (`MenuRecommendRequest`):**
    ```typescript
    {
      included_categories: string[]; // Step 1 결과
      attributes: {                  // Step 2 결과
        spiciness: number;
        temperature: string;
      };
      limit: 3;
    }
    ```

### 4-2. State Management (Client State)
*   복잡한 전역 상태 관리(Redux 등) 대신, **페이지 단위의 Local State** 또는 **Context API**를 사용합니다.
*   Wizard의 경우 `useMenuWizard` 커스텀 훅을 만들어 단계별 상태(`currentStep`, `selections`)를 관리합니다.

---

## 5. 개발 로드맵

1.  **Phase 1 (기반 작업):**
    *   `MenuModePage` (모드 선택) UI 구현
    *   라우팅 설정 (`react-router-dom`)
2.  **Phase 2 (Wizard 구현):**
    *   Step 컴포넌트 분리 (`CategoryStep`, `AttributeStep`)
    *   API 연동 및 결과 페이지 구현
3.  **Phase 3 (Polishing):**
    *   로딩 애니메이션 및 전환 효과 적용
    *   에러 처리 (추천 결과 없음 등)
